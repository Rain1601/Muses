
# GPT-4.1 æç¤ºè¯æŒ‡å—ï¼ˆPrompting Guide for GPT-4-1ï¼‰

> æœ¬æŒ‡å—åŸºäº OpenAI Cookbookï¼Œæ—¨åœ¨å¸®åŠ©ä½ ç”¨æ›´æœ‰æ•ˆçš„æ–¹å¼ä¸ GPT-4.1 è¿›è¡Œäº¤äº’ï¼Œæå‡è¾“å‡ºè´¨é‡ä¸æ§åˆ¶åŠ›ã€‚

---

## ğŸ¤– ç®€ä»‹

GPT-4.1 æ˜¯ GPT-4 çš„å¢å¼ºç‰ˆæœ¬ï¼Œå…·æœ‰æ›´å¥½çš„æ¨ç†èƒ½åŠ›ã€æ›´ä¸€è‡´çš„è¡Œä¸ºè¡¨ç°ï¼Œå°¤å…¶é€‚åˆ Agent ç³»ç»Ÿã€å·¥å…·è°ƒç”¨å’Œå¤æ‚ä»»åŠ¡å¤„ç†ã€‚

---

## âœ¨ æ¨èæç¤ºæ ¼å¼

å»ºè®®ä½¿ç”¨ `ChatCompletion` æ¥å£æ ¼å¼ï¼ŒåŒ…å«ä¸‰ç§è§’è‰²ï¼š

- `system`ï¼šè®¾å®šæ¨¡å‹è¡Œä¸º
- `user`ï¼šç”¨æˆ·è¯·æ±‚
- `assistant`ï¼šæ¨¡å‹å“åº”

è¿™ç§ç»“æ„æœ‰åˆ©äºæ„å»ºå¤šè½®å¯¹è¯å’Œå¤š Agent ç³»ç»Ÿã€‚

---

## ğŸ§¾ ç³»ç»Ÿæç¤ºè¯æé†’ï¼ˆSystem Prompt Remindersï¼‰

- è‹¥å¸Œæœ›æ¨¡å‹æŒç»­éµå¾ªæŸç§è¡Œä¸ºï¼ˆå¦‚æ ¼å¼/è¯­æ°”/ç»“æ„ï¼‰ï¼Œåº”åœ¨ `system` prompt ä¸­æ·»åŠ â€œæ¯è½®æé†’â€ã€‚
- ç¤ºä¾‹ï¼šâ€œè¯·æ¯æ¬¡å›ç­”éƒ½ä½¿ç”¨ markdownï¼Œå¹¶å¯¹å…³é”®ä¿¡æ¯åŠ ç²—ã€‚â€

---

## ğŸ”— Chain of Thought æç¤ºç­–ç•¥ï¼ˆæ€ç»´é“¾ï¼‰

é€šè¿‡è¦æ±‚æ¨¡å‹â€œåˆ†æ­¥éª¤æ€è€ƒâ€ï¼Œå¯ä»¥æå‡å…¶åœ¨å¤æ‚æ¨ç†ä»»åŠ¡ä¸­çš„è¡¨ç°ã€‚  
å¦‚ï¼šâ€œè¯·ä¸€æ­¥ä¸€æ­¥æ€è€ƒåå†å›ç­”ã€‚â€  
é€‚åˆé€»è¾‘æ¨ç†ã€æ•°å­¦é—®é¢˜ã€è§„åˆ’ä»»åŠ¡ã€‚

ä¹Ÿæ”¯æŒ few-shot ç¤ºä¾‹å¼æç¤ºï¼Œå¼•å¯¼æ¨¡å‹æ¨¡ä»¿æ­¥éª¤æ ¼å¼ã€‚

---

## ğŸ” ReAct æç¤ºç­–ç•¥ï¼ˆæ¨ç† + åŠ¨ä½œï¼‰

ReAct ç»“åˆâ€œæ¨ç†ï¼ˆThoughtï¼‰â€å’Œâ€œåŠ¨ä½œï¼ˆActionï¼‰â€ç»“æ„ï¼Œé€‚ç”¨äºå·¥å…·è°ƒç”¨ Agentï¼š

```
Thought: æˆ‘è¦è·å–å¤©æ°”æ•°æ®ã€‚
Action: get_weather(city="ä¸œäº¬")
Observation: è¿”å›æ˜¯æ™´å¤© 26Â°Cã€‚
Thought: æœ‰äº†æ•°æ®ï¼Œå¯ä»¥å›ç­”ã€‚
Final Answer: ...
```

æ¨¡å‹è¢«å¼•å¯¼å…ˆæ€è€ƒï¼Œå†è°ƒç”¨å‡½æ•°ï¼Œå†ç»§ç»­æ€è€ƒï¼Œç›´åˆ°å®Œæˆä»»åŠ¡ã€‚

---

## ğŸ§° Tool Useï¼ˆå·¥å…·è°ƒç”¨æç¤ºç­–ç•¥ï¼‰

GPT-4.1 åŸç”Ÿæ”¯æŒç»“æ„åŒ–å·¥å…·è°ƒç”¨ï¼ˆfunction callingï¼‰ï¼š

- ç”¨ `tools` å‚æ•°å®šä¹‰å‡½æ•° schema
- æ¨¡å‹è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦è°ƒç”¨ + æä¾›å‚æ•°
- å¯ç”¨äºå¤šè½®ä»»åŠ¡ + å¤šå·¥å…·è°ƒç”¨

æç¤ºè®¾è®¡å»ºè®®ï¼š
- å¼ºåŒ–å·¥å…·è°ƒç”¨æ„è¯†
- æ˜ç¡®ç¦æ­¢æ¨¡å‹è‡†æµ‹ç»“æœ
- å¤šå·¥å…·åœºæ™¯ä¸‹å¼ºè°ƒç”¨é€”è¾¹ç•Œ

---

## ğŸª Reflectionï¼ˆåæ€æç¤ºç­–ç•¥ï¼‰

å¼•å¯¼æ¨¡å‹å¯¹è‡ªå·±ç”Ÿæˆçš„å†…å®¹è¿›è¡Œå¤ç›˜ã€å®¡è§†ï¼Œå‘ç°æ½œåœ¨é”™è¯¯å¹¶ä¿®æ­£ï¼š

- å¯ä½¿ç”¨ä¸¤é˜¶æ®µç»“æ„ï¼šåˆå§‹å›ç­” â†’ åæ€/ä¿®æ­£
- æ”¯æŒå¤šè½®ä¼˜åŒ–ï¼ˆReflection Loopï¼‰
- åº”ç”¨äºç¼–ç¨‹ã€é€»è¾‘æ¨ç†ã€å†…å®¹å®¡æ ¡ç­‰åœºæ™¯

---

## ğŸ‘¥ å¤š Agent åä½œæç¤ºç­–ç•¥ï¼ˆMulti-Agent Promptingï¼‰

å°†å¤æ‚ä»»åŠ¡æ‹†åˆ†ï¼Œåˆ†é…ç»™å¤šä¸ªè§’è‰²ï¼ˆAgentï¼‰åä½œå®Œæˆï¼š

å¸¸è§è§’è‰²ï¼š
- Routerï¼šè¯†åˆ«ç”¨æˆ·æ„å›¾ã€åˆ†å‘ä»»åŠ¡
- Expertï¼šè§£å†³å…·ä½“å­ä»»åŠ¡
- Reviewerï¼šå®¡æŸ¥ä¼˜åŒ–ç»“æœ
- Toolcallerï¼šè´Ÿè´£è°ƒç”¨å‡½æ•°

æç¤ºè®¾è®¡å»ºè®®ï¼š
- æ¯ä¸ª Agent è®¾ç½®æ¸…æ™°çš„ç³»ç»Ÿæç¤ºå’ŒåŠŸèƒ½è¾¹ç•Œ
- åˆ©ç”¨ä¸Šä¸‹æ–‡ message ä¸²è”å¤š Agent çš„è¾“å…¥è¾“å‡º
- å¯ç»“åˆ LangChainã€CrewAIã€LangGraph ç­‰å·¥å…·å®ç°

---

## âœ… æ€»ç»“

GPT-4.1 æ”¯æŒæ›´å¼ºçš„æç¤ºç»“æ„åŒ–ã€å¤š Agent åä½œã€å·¥å…·è°ƒç”¨ä¸åæ€æœºåˆ¶ã€‚

è‰¯å¥½çš„æç¤ºå·¥ç¨‹è®¾è®¡å¯æå‡æ¨¡å‹ç¨³å®šæ€§ã€å‡†ç¡®æ€§ä¸å¯æ§æ€§ã€‚å»ºè®®ä»ä»¥ä¸‹è§’åº¦ä¼˜åŒ–æç¤ºï¼š

1. æ˜ç¡®è§’è‰² + è¡Œä¸ºè®¾å®šï¼ˆsystem promptï¼‰
2. ä½¿ç”¨ CoT / ReAct / Tool Use ç­‰ç»“æ„
3. æ‹†è§£ä»»åŠ¡ â†’ å¤š Agent ååŒè§£å†³
4. ç”¨ Reflection æé«˜é²æ£’æ€§
5. ç®¡ç†ä¸Šä¸‹æ–‡ï¼Œæ§åˆ¶æµç¨‹

---

> æ–‡æ¡£æ•´ç†ï¼šOpenAI Cookbook ä¸­æ–‡ç¿»è¯‘  
> åŸæ–‡é“¾æ¥ï¼šhttps://cookbook.openai.com/examples/gpt4-1_prompting_guide
